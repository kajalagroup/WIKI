<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ZoneInfo on Kajala WIKI Book</title><link>https://kajalagroup.github.io/wiki/tags/zoneinfo/</link><description>Recent content in ZoneInfo on Kajala WIKI Book</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 09 Dec 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://kajalagroup.github.io/wiki/tags/zoneinfo/index.xml" rel="self" type="application/rss+xml"/><item><title>Migrating from pytz to ZoneInfo (python 3.9+)</title><link>https://kajalagroup.github.io/wiki/posts/pytz-to-zoneinfo/</link><pubDate>Sat, 09 Dec 2023 00:00:00 +0000</pubDate><guid>https://kajalagroup.github.io/wiki/posts/pytz-to-zoneinfo/</guid><description>Django 5.0 removed pytz in favor of python 3.9+ supported ZoneInfo.
Adding tzinfo to naked datetime using pytz:
pytz.timezone(&amp;quot;Europe/Helsinki&amp;quot;).localize(non_tz_datetime) becomes
non_tz_datetime.replace(tzinfo=ZoneInfo(&amp;quot;Europe/Helsinki&amp;quot;)) Converting to timezone using pytz:
timestamp.astimezone(pytz.timezone(&amp;quot;Europe/Helsinki&amp;quot;)) becomes
timestamp.astimezone(ZoneInfo(&amp;quot;Europe/Helsinki&amp;quot;)) Note that ZoneInfo is not available before python 3.9 so to support 3.8 (we have couple of old servers) need to import ZoneInfo with
try: import zoneinfo # noqa except ImportError: from backports import zoneinfo # type: ignore # noqa from zoneinfo import ZoneInfo and in requirements.</description></item></channel></rss>